const destinos = [
	{
		name: 'Puno',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Cusco',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Bolivia',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Nasca',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Loreto',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Ades',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Lima',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	},
	{
		name: 'Arequipa',
		tours: [
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			},
			{
				name: 'Tren nocturno de Puno a Cusco Belmond Explorer (2D)',
				desc: 'Visitalo en verano y podras disfrutarlo...',
				id: '01',
				url: 'http://www.google.com'
			}
		]
	}
];
const tickets = [

];

var selectedTours = [];
var selectedTickets = [];

var h = window.innerHeight;
var w = window.innerWidth;
var f = w < 768 ? 2 : 3;

var destinoWasSelected = false;
var destinoIndex = null;

function mostrarDestinos(text) {
	console.log(h);
	console.log(w);
	console.log(f);

	var html = "";

	destinos.forEach((destino, index) => {
		html = html + `
    	<div class="col-xs-6 col-sm-4" id="destino-${index}">
        <a class="bootcards-summary-item" onclick="selectDestino(${index})">
          <i class="fa fa-3x fa-suitcase"></i>
          <h4>${destino.name} <span class="label label-info">${destino.tours.length}</span></h4>
        </a>
      </div>
		`;
	});
	
	html = html + `
		<div id="space-tours" class="col-xs-12" >
		</div>
	`;

	document.getElementById('destinosCards').innerHTML = html;
}

function selectDestino(index) {
	// Esconder si ya existia seleccionado
	if (destinoWasSelected) {
		document.getElementById(`space-tours`).innerHTML = "";
		document.getElementById(`destino-${destinoIndex}`).setAttribute('class', 'col-xs-6 col-sm-4');
	}
	// Esconder si selecciono lo mismo
	if (index == destinoIndex) {
		destinoWasSelected = false;
		destinoIndex = null;
	}
	// Mostrar tour si seleciono otro
	else {
		destinoWasSelected = true;
		destinoIndex = index;

		var content = `
			<div class="page-header">
				<h3>Tour disponibles de ${destinos[index].name}</h3>
			</div>
			<div>
		`;
		destinos[index].tours.forEach((tour) => {
			content = content + `
				<div>
					<h4 onclick="selectTour(\'${tour.name}\',${tour.id})" style="cursor:pointer">${tour.name} <br> 
						<small>${tour.desc}</small> <br> 
						<small><a href="${tour.url}">Explorar tour >> </a></small> 
					</h4>
				</div>
			`;
		});
		content = content + `
			</div>
		`;
		document.getElementById(`space-tours`).innerHTML = content;
		document.getElementById(`destino-${destinoIndex}`).setAttribute('class', 'col-xs-6 col-sm-4 selecionado');
		
		// focus
		// document.getElementById(`space-tours`).focus();
	}


	/*
		buses.php

		// Lectura de los origenes
		data: 
			{
				tabla: origen
			}
		response: 
		{"html":"<option value=\"0\">Departure City<\/option><option value=\"1\">Puno<\/option><option value=\"2\">Cusco<\/option><option value=\"3\">Arequipa<\/option><option value=\"4\">Chivay<\/option><option value=\"5\">La Paz<\/option><option value=\"6\">Copacabana<\/option><option value=\"7\">Uyuni<\/option><option value=\"8\">Juliaca (Airport)<\/option>"}

		// Lectura de los destinos
		data: 
			{
				tabla: destino,
				origen: 1
			}
		response: 
		{"html":"<option value=\"0\">Arrival City<\/option><option value=\"2\">Cusco<\/option><option value=\"3\">Arequipa<\/option><option value=\"4\">Copacabana<\/option><option value=\"5\">La Paz<\/option><option value=\"6\">Chivay<\/option><option value=\"8\">Juliaca (Airport)<\/option>"}
		
		// Lectura de los buses disponibles
		data: 
			{
				tabla: busqueda,
				origen: 1,
				destino: 3
			}
		response: 
		{"html":"<table style=\"width:100%;\" class=\"table table-bordered table-condensed\" id=\"table_bus\"><thead style=\"background: #FFCD42;color: #000;\"><tr><th><\/th><th style=\"display:none;\"><\/th><th style=\"display:none;\"><\/th><th>Salida<\/th><th>Servicio<\/th><th class=\"empresa\">Compa&ntilde;ia<\/th><th>Precio<\/th><\/tr><\/thead><tbody><tr class=\"select\" data-id=\"37\"><td><i class=\"fa fa-square-o\"><\/i><\/td><td style=\"display:none;\">Puno<\/td><td style=\"display:none;\">Arequipa<\/td><td>06:30AM<\/td><td>Bus tur\u00edstico con paradas en ruta <\/td><td class=\"empresa\">4M-Express<\/td><td>$ 42<\/td><\/tr><tr class=\"select\" data-id=\"39\"><td><i class=\"fa fa-square-o\"><\/i><\/td><td style=\"display:none;\">Puno<\/td><td style=\"display:none;\">Arequipa<\/td><td>03:00PM<\/td><td>Bus directo tur\u00edstico semi-cama 140\u00b0<\/td><td class=\"empresa\">Cruz del Sur<\/td><td>$ 27<\/td><\/tr><tr class=\"select\" data-id=\"40\"><td><i class=\"fa fa-square-o\"><\/i><\/td><td style=\"display:none;\">Puno<\/td><td style=\"display:none;\">Arequipa<\/td><td>03:00PM<\/td><td>Bus directo tur\u00edstico Cama 160\u00b0<\/td><td class=\"empresa\">Cruz del Sur<\/td><td>$ 33<\/td><\/tr><tr class=\"select\" data-id=\"42\"><td><i class=\"fa fa-square-o\"><\/i><\/td><td style=\"display:none;\">Puno<\/td><td style=\"display:none;\">Arequipa<\/td><td>10:30PM<\/td><td>Bus directo tur\u00edstico Cama 160\u00b0<\/td><td class=\"empresa\">Cruz del Sur<\/td><td>$ 33<\/td><\/tr><tr class=\"select\" data-id=\"43\"><td><i class=\"fa fa-square-o\"><\/i><\/td><td style=\"display:none;\">Puno<\/td><td style=\"display:none;\">Arequipa<\/td><td>10:30PM<\/td><td>Bus directo tur\u00edstico semi-cama 140\u00b0<\/td><td class=\"empresa\">Cruz del Sur<\/td><td>$ 27<\/td><\/tr><\/tbody><\/table><style>.empresa{display: block;}<\/style>"}

	*/


	/**
	 * Reservar
	 * http://incalake.com/reservar/email/reservar.php POST application/x-www-form-urlencoded
	 * 
oferta:
nombres:j
pais:q
email:alalala@gmail.com
npax:1
hotel:
nombre_tour[]:Tren nocturno de Puno a Cusco Belmond Explorer (2D)
fecha_excursion[]:10-Aug-2017
id_tour[]:1
url_tour[]:http://incalake.com/tren-puno-cusco
buscador_excursiones:
fecha_otro_tour:
detalle_otro_tour:
origen:0
bus[]:Puno-Arequipa / 06:30AM / Bus turístico con paradas en ruta  / 4M-Express
bfecha[]:15-Aug-2017
detalles:lalalalalala
celular:123456789
	 * 
	 */

}

function selectTour(name,id){
	console.log('seleccionno el tour:',name,id);
	
}
